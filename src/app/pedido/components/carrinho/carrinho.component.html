<main class="container">
  <div class="flex-container" *ngIf="items.length > 0; else empty">
    <div class="title">
      <span class="material-symbols-outlined">shopping_cart</span>
      <strong>Meu Carrinho</strong>
    </div>
    <table>
      <thead>
        <tr>
          <th>Produto</th>
          <th>Quantidade</th>
          <th>Preço</th>
          <th>Ações</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of items">
          <td class="image-container">
            <img [src]="item.imageName">
            {{ item.nome }}
          </td>
          <td>
            <div class="quantidade-container">
              <button class="decrease" (click)="decrease(item)">
                <span class="material-symbols-outlined">remove</span>
              </button>
              <div class="quantidade">
                {{ item.quantidade }}
              </div>
              <button class="increase" (click)="increase(item)">
                <span class="material-symbols-outlined">add</span>
              </button>
            </div>         
          </td>
          <td>{{ item.preco | currency: 'BRL' }}</td>
          <td>
            <div class="delete-btn">
              <mat-icon color="warn" (click)="removeItem(item)">delete</mat-icon>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
    <div class="summary-container">
      <div class="summary-flex-container">
        <div class="title">
          <span class="material-symbols-outlined">find_in_page</span>
          <strong>Resumo</strong>
        </div>
        <div class="subtotal">
          Subtotal
          <strong>{{ calculateTotal() | currency: 'BRL' }}</strong>
        </div>
        <div class="frete">
          Frete
          <strong>R$ 0,00</strong>
        </div>
        <div class="total">
          Total
          <strong>{{ calculateTotal() | currency: 'BRL' }}</strong>
        </div>
        <button class="button" routerLink="/checkout">Finalizar Pedido</button>
        <button class="button" routerLink="/produtos">Continuar Comprando</button>
      </div>
    </div>
  </div>
  <ng-template #empty>
    <div class="empty-container">
      <span class="material-symbols-outlined">
        production_quantity_limits
        </span>
      <p>Nenhum produto no seu carrinho.</p>
    </div>
  </ng-template>
</main>